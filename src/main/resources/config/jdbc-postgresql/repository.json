{
    "name" : "repo",
    "jndiName" : "",
    "workspaces" : {
        "predefined" : ["default"],
        "default" : "default",
        "allowCreation" : true,
        "cacheSize" : "${fcrepo.modeshape.cacheSize:10000}"
    },
    "storage" : {
        "persistence": {
            "type" : "db",
            "connectionUrl": "jdbc:postgresql://${fcrepo.postgresql.host:localhost}:${fcrepo.postgresql.port:5432}/fcrepo",
            "driver" : "org.postgresql.Driver",
            "username" : "${fcrepo.postgresql.username}",
            "password" : "${fcrepo.postgresql.password}"
        },
        "binaryStorage" : {
            "type" : "file",
            "directory" : "${fcrepo.binary.directory:target/binaries}",
            "minimumBinarySizeInBytes" : 4096
        }
    },
    "security" : {
        "anonymous" : {
            "roles" : ["readonly","readwrite","admin"],
            "useOnFailedLogin" : false
        },
        "providers" : [
            { "classname" : "org.fcrepo.auth.common.BypassSecurityServletAuthenticationProvider" }
        ]
    },
    "garbageCollection" : {
        "threadPool" : "modeshape-gc",
        "initialTime" : "00:00",
        "intervalInHours" : 24
    },
    "node-types" : ["fedora-node-types.cnd"],
 
    "indexProviders" : {
        "local" : {
            "classname" : "org.modeshape.jcr.index.local.LocalIndexProvider",
            "directory" : "${fcrepo.modeshape.index.directory}",
            "cacheLRUEnable" : true,
            "mmapFileEnable" : true,
            "commitFileSyncDisable" : true,
            "transactionDisable" : true,
            "asyncWrite" : true,
            "cacheSize" : 1000000
        },
          "lucene" : {
            "classname" : "lucene",
            "directory" : "${fcrepo.modeshape.index.directory}",
            "analyzerClass" : "org.apache.lucene.analysis.standard.StandardAnalyzer",
            "lockFactoryClass" : "org.apache.lucene.store.NoLockFactory"
        }
    },
    "indexes" : {
        "hasModel" : {
            "kind" : "value",
            "provider" : "lucene",
            "synchronous" : "false",
            "nodeType" : "fedora:Resource",
            "columns" : "{info:fedora/fedora-system:def/model#}hasModel(STRING)"
        },
        "accessRights" : {
            "kind" : "value",
            "provider" : "lucene",
            "synchronous" : "false",
            "nodeType" : "fedora:Resource",
            "columns" : "{http://purl.org/dc/terms/}accessRights(STRING)"
        },
        "lastModified" : {
            "kind" : "value",
            "provider" : "lucene",
            "synchronous" : "false",
            "nodeType" : "fedora:Resource",
            "columns" : "jcr:lastModified(DATE)"
        },
        "type" : {
            "kind" : "value",
            "provider" : "lucene",
            "synchronous" : "false",
            "nodeType" : "fedora:Resource",
            "columns" : "{http://purl.org/dc/terms/}type(STRING)"
        },
        "memberOf" : {
            "kind" : "value",
            "provider" : "lucene",
            "synchronous" : "false",
            "nodeType" : "fedora:Resource",
            "columns" : "{http://pcdm.org/models#}memberOf(STRING)"
        },
        "ualPath" : {
            "kind" : "value",
            "provider" : "lucene",
            "synchronous" : "false",
            "nodeType" : "fedora:Resource",
            "columns" : "{http://terms.library.ualberta.ca/}path(STRING)"
        },
        "localName" : {
            "kind" : "value",
            "provider" : "lucene",
            "synchronous" : "false",
            "nodeType" : "fedora:Resource",
            "columns" : "mode:localName(STRING)"
        }
    }
}
